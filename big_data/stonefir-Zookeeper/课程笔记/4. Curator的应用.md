### 77. 基于ZK实现配置中心 TODO







### 79. 分布式锁必要性









### 85_Curator读写锁是如何针对羊群效应进行优化的? 

1. 羊群效应: 大家都监听排在第一位的锁，等待他释放掉，一旦一个锁释放了之后，此时后续其他所有的锁都会得到通知，羊群效应，养了几十头羊，突然在他们羊群里扔一个石子儿，羊群就惊了，一起动了起来
2. 获取锁时创建一个临时顺序节点，顺序最小的那个才能获取到锁，之后尝试加锁的**客户端就监听自己的上一个顺序节点**，当上一个顺序节点释放锁之后，自己尝试加锁







### 86. ZK实现注册中心: 集群扩容和宕机自动感知.

- 临时顺序节点. 
- 监听.











### 96. 实战: 数据同步系统的整体架构设计-分布式数据同步系统

- 和任务分配的架构一样.

- HA就用抢锁就行



![05_通用数据同步平台的架构设计](4.%20Curator%E7%9A%84%E5%BA%94%E7%94%A8.assets/05_%E9%80%9A%E7%94%A8%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%B9%B3%E5%8F%B0%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.png)







### 99. 实战: IM系统的iplist

接入系统，请求分发系统，消息投递系统，他们都是可以在启动的时候在zk里注册自己

 

/im-system/tcp-gateway/#{host}

/im-system/dispatcher/#{host}

/im-system/delivery/#{host}





