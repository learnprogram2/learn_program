1. **数据架构**

   - 数据库ER模型: 使用PowerDesigner ER建模

   - 数据库逻辑模型: 把ER模型转换为逻辑模型(SQL) 数据存储的概念

   - 数据库物理模型: 把模型转换成SQL, 具体的主键字段的概念.

   - **接口:** 

     

2. 





### 070-072. 权限中心的详细设计

#### 1. ER模型->逻辑模型->物理模型

**事物关系-> 存储关系-> 具体SQL**

![image-20201130210625894](7.%20%E8%AF%A6%E7%BB%86%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.assets/image-20201130210625894.png)



#### 2. 接口设计

1. 权限树查询接口
   - 接口类
     - 接口方法
     - 接口描述
     - 输入, 输出

#### 3. 开发架构

1. **实现类图** 重要![01_权限中心实现类图](7.%20%E8%AF%A6%E7%BB%86%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.assets/01_%E6%9D%83%E9%99%90%E4%B8%AD%E5%BF%83%E5%AE%9E%E7%8E%B0%E7%B1%BB%E5%9B%BE.png)
2. 包设计.



#### 4.  运行流程设计

**每个主要方法内部的流程, 步骤, 泳道图** 非时序图(不用细到调用哪个方法都写出来.

#### 5. 测试用例

1. 单元测试用例: 对每个controller. service, dao组件进行简单测试
2. 冒烟测试: 系统本地运行起来, 可以正常接收请求.

#### 6. 日志设计

每层每个类都捕获自己的异常. 异常打印堆栈和信息.





### 073-075. 商品中心的详细设计

#### 1. 数据架构

ER->逻辑模型-> 物理模型

关系->存储关系->表SQL

![image-20201130224125448](7.%20%E8%AF%A6%E7%BB%86%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.assets/image-20201130224125448.png)

#### 2. 接口

- 接口类
  - 接口方法
  - 接口描述
  - 输出输入参数

#### 3. 开发架构

1. 实现类图:

   ![01_商品中心实现类图](7.%20%E8%AF%A6%E7%BB%86%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.assets/01_%E5%95%86%E5%93%81%E4%B8%AD%E5%BF%83%E5%AE%9E%E7%8E%B0%E7%B1%BB%E5%9B%BE.png)

2. 包设计



#### 4. 运行流程-> 泳道图

#### 5. 测试用例

#### 6. 日志





...







### 097. 梳理系统运行流程, 完善接口设计



### 098. 分析各模块业务特点, 补充设计模式的应用



### 099. 为核心业务流程补充活动流程图(泳道图)

![02_支付订单流程活动图](7.%20%E8%AF%A6%E7%BB%86%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.assets/02_%E6%94%AF%E4%BB%98%E8%AE%A2%E5%8D%95%E6%B5%81%E7%A8%8B%E6%B4%BB%E5%8A%A8%E5%9B%BE.png)



### 100. 详细设计文档技术评审

概要设计- 架构是必备能力, 设计系统逻辑运行物理架构

概要设计评审- 让别的team的架构师把关.

详细设计-具体工作, 详细设计. 



- 数据架构

  ER->逻辑->物理: **索引设计**

- 接口设计: 

  交互者检查接口的完整性.

- 开发架构

  - **实现类图:** 避免代码乱掉
    - **是不是在面向对象设计**
    - **有没有应用设计模式**

- 运行流程

  - 主要功能的活动泳道图
  - 简单功能文字流程

- 测试用例: 

  每个重点方法都需要写单元测试

- 日志评审:

  打印异常的关键全面信息.

  初期尽量每个类自己捕获异常.

  后期设计异常捕获.











