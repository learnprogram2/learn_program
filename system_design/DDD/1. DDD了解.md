### 战略设计

根据DDD的设计原则，高效的软件设计需要掌握**业务领域知识**（user case）并对其进行建模。

战略设计的目标主要是**通过分析项目的领域业务，在项目相关干系人之间对领域知识达成一致**（通过统一语言进行表示）。同时**应用限界上下文将领域知识转化为问题域的模型**，最后简述各团队之间实现模型的几种合作方式。

通过战略分析，你可以以鸟瞰的视角俯视整个项目。

#### 1. 业务领域分析

Business Domain（业务领域）：业务领域即公司经营整体业务.

比如百度外卖-外卖, 百度糯米-团购, 百度贴吧-社群, .....

- 业务领域需要拆分子领域, 子领域是更为精细化的商业活动。

- 所有的子领域共同协作来完成业务领域的目标, 单独的子领域没有意义.

- 子领域按照重要程度, 层次, 可分类. 

  核心-支持, 业务-通用

#### 2. 提取领域知识

领域知识：通常针对业务领域产品和用户沟通梳理形成的**user case**

我理解这个user case就是这个领域里所有的用户功能, 我们要做的就是让我们的领域支持所有的功能.



#### 3. 界定上下文

不能把所有的user-case写到一起, 因为他们都是有特定上下文的. 

<img src="Untitled.assets/屏幕快照 2020-12-21 上午11.32.00.png" alt="屏幕快照 2020-12-21 上午11.32.00" style="zoom: 33%;" />

如果按照原来的三层模型, 就背离了单一职责原则（SRP）:

<img src="1. DDD了解.assets/屏幕快照 2020-12-21 下午12.53.40.png" alt="屏幕快照 2020-12-21 下午12.53.40" style="zoom:25%;" />

领域类的领域知识+上下文限定后:

<img src="1. DDD了解.assets/屏幕快照 2020-12-21 下午12.56.19.png" alt="屏幕快照 2020-12-21 下午12.56.19" style="zoom:25%;" />



#### 4. 上下文映射

之所要分上下文, 然后把不同的上下文映射起来, 是因为高内聚-低耦合的设计原则.

有几种映射的原色:

1. 共享原则
2. 合作原则
3. Open api: 下游server经常变, 定义公开的服务
4. 防腐原则: 上游server经常变, 定义确定的调用.



### 战术设计: 具体实现









































